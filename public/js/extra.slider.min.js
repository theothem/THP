!function(e){"use strict";var n=e(window);e.fn.extraSlider=function(t){var a=e.extend({auto:!1,direction:"x",draggable:!1,ease:Quad.easeOut,keyboard:!1,margin:1,minDrag:0,navigate:!0,navigation:null,paginate:!0,pagination:null,paginateContent:"",speed:.5,startAt:0,type:"slide",onGotoNext:null,onGotoPrev:null,onInit:null,onMoveEnd:null,onMoveStart:null,onPause:null,onResume:null,onUpdate:null,onUpdateClones:null,onDragStart:null,onDragEnd:null},t);return this.each(function(){function t(){var n={},t={};h.each(function(n){e(this).data("index",n)}),"slide"===a.type?(f.addClass("extra-slider-slide"),l(),h.each(function(e,t){n={},n[a.direction]=100*e+"%",TweenMax.set(t,n)}),t[a.direction+"Percent"]=100*(w-m),TweenMax.set(x,t)):"fade"===a.type&&(f.addClass("extra-slider-fade"),h.each(function(n){n===w?TweenMax.set(e(this),{autoAlpha:1,zIndex:C+1}):TweenMax.set(e(this),{autoAlpha:0,zIndex:C-n+1})})),h.not(".extra-slider-clone").first().addClass("extra-slider-first")}function i(){"slide"===a.type&&o(),h.removeClass("extra-slider-active"),h.eq(w+m).addClass("extra-slider-active"),a.onUpdate&&a.onUpdate(h.eq(w+m),C+1,f),f.trigger("extra:slider:update",[h.eq(w+m),C+1,f]),p&&p.update()}function o(){if("slide"!==a.type||void 0!==x[0]._gsTransform){var e=!1,n=w,t=0,i=0,o=0,r=0,s={};w>C?(e=!0,w%=C+1):0>w&&(e=!0,w+=C+1),e&&"slide"===a.type&&(t=x[0]._gsTransform[a.direction+"Percent"],i=-(n+m),i*=100,o=i-t,r=-(100*(w+m)+o),s[a.direction+"Percent"]=r,TweenMax.set(x,s))}}function r(e,n){"slide"===a.type&&o(),h.eq(w+m).addClass("extra-slider-active"),!isNaN(a.auto)&&a.auto>0&&c(),a.onMoveEnd&&e>0&&a.onMoveEnd(h.eq(w+m),C+1,f),f.trigger("extra:slider:moveEnd",[h.eq(w+m),C+1,f])}function s(n,t){t=void 0!==t?t:a.speed;var i,s={onComplete:r,onCompleteParams:[t],ease:a.ease};h.removeClass("extra-slider-active"),D=w,w=n,o(),a.onMoveStart&&t>0&&a.onMoveStart(h.eq(w+m),C+1,f),f.trigger("extra:slider:moveStart",[h.eq(w+m),C+1,f]),a.paginate&&a.pagination.length&&a.pagination.each(function(){e(this).find("a").removeClass("extra-slider-link-active").eq(w).addClass("extra-slider-link-active")}),"slide"===a.type?(i=-(w+m),i=100*i,s[a.direction+"Percent"]=i,TweenMax.to(x,t,s)):"fade"===a.type&&(h.each(function(e,n){e===w?h.eq(e).css("zIndex",3):e===D?h.eq(e).css("zIndex",2):h.eq(e).css("zIndex",1)}),s.autoAlpha=1,TweenMax.fromTo(h.eq(w),t,{autoAlpha:0},s))}function l(){h.find(".extra-slider-clone").remove(),h.first().before(h.slice(-a.margin).clone(!0).addClass("extra-slider-clone")),h.last().after(h.slice(0,a.margin).clone(!0).addClass("extra-slider-clone")),h=x.find("> li"),m=h.filter(".extra-slider-clone").size()/2||0,a.onUpdateClones&&a.onUpdateClones(h.eq(w+m),C+1,f),f.trigger("extra:slider:updateClones",[h.eq(w+m),C+1,f])}function d(e){a.onGotoNext&&a.onGotoNext(f),f.trigger("extra:slider:onGotoNext",[h.eq(w+m),C+1,f]),e=void 0!==e?e:a.speed,s(w+1,e)}function g(e){a.onGotoPrev&&a.onGotoPrev(f),f.trigger("extra:slider:onGotoPrev",[h.eq(w+m),C+1,f]),e=void 0!==e?e:a.speed,s(w-1,e)}function c(){u&&u.kill(),u=TweenMax.delayedCall(a.auto,function(){d(),c()})}var u,p,f=e(this),v=e("> .wrapper",this),x=v.find("> ul"),h=x.find("> li"),m=0,q=0,C=h.length-1,w=a.startAt,D=C,M=0;a.draggable&&(a.margin+=1),a.navigate&&(!a.navigation||a.navigation&&a.navigation.length&&a.navigation.length<1)&&(a.navigation=f.find(".navigation")),a.navigate&&(!a.pagination||a.pagination&&a.pagination.length&&a.pagination.length<1)&&(a.pagination=f.find(".pagination")),e(this).on("update",function(){i()}),e(this).on("next",function(e,n){d(n)}),e(this).on("prev",function(e,n){g(n)}),e(this).on("goto",function(e,n,t){t=void 0!==t?t:a.speed,s(n,t)}),a.navigate&&a.navigation.length&&a.navigation.each(function(n,t){var a=e(this);a.find("a").length<2&&(e("<a>",{href:"#","class":"next"}).appendTo(a),e("<a>",{href:"#","class":"prev"}).appendTo(a)),e("a.prev",a).on("click",function(e){e.preventDefault(),g()}),e("a.next",a).on("click",function(e){e.preventDefault(),d()})}),a.paginate&&a.pagination.length&&a.pagination.each(function(){var n=e(this);for(M=0;C>=M;M+=1)e("<a>",{href:"#"}).html(""!==a.paginateContent?a.paginateContent.replace("%d",M+1):M+1).appendTo(n);n.find("a").removeClass("extra-slider-link-active").eq(w).addClass("extra-slider-link-active"),e("a",n).each(function(n,t){var a=e(t);a.click(function(e){e.preventDefault(),s(n)})})}),a.keyboard&&n.on("keydown",function(e){(40===e.which||39===e.which)&&(e.preventDefault(),d()),(38===e.which||37===e.which)&&(e.preventDefault(),g())}),!isNaN(a.auto)&&a.auto>0&&(c(),f.on("mouseenter pause",function(){a.onPause&&a.onPause(f),f.trigger("extra:slider:pause",[h.eq(w+m),C+1,f]),u.pause()}).on("mouseleave resume",function(){a.onResume&&a.onResume(f),f.trigger("extra:slider:resume",[h.eq(w+m),C+1,f]),u.resume()})),a.draggable&&"slide"===a.type&&(f.addClass("extra-slider-draggable"),void 0!==Draggable?(Draggable.create(x,{type:a.direction,cursor:"move",lockAxis:!1,throwProps:!0,zIndexBoost:!1,onDragStart:function(){q="x"===a.direction?h.first().width():h.first().height(),a.onDragStart&&a.onDragStart(h.eq(w+m),C+1,f),f.trigger("extra:slider:onDragStart",[h.eq(w+m),C+1,f])},onDragEnd:function(){var e,n,t=p[a.direction]/q*100-100*(w-m),i=-(t/100-m),o={};e=a.minDrag>0&&Math.abs(p[a.direction])<=a.minDrag?w:i>w?Math.ceil(i):Math.floor(i),n=-(i+m),n=100*n,o[a.direction]=0,TweenMax.set(x,o),o={},o[a.direction+"Percent"]=n,TweenMax.set(x,o),p.update(),s(e),a.onDragEnd&&a.onDragEnd(h.eq(w+m),C+1,f),f.trigger("extra:slider:onDragEnd",[h.eq(w+m),C+1,f])}}),p=Draggable.get(x)):console.log("Draggable is not detected. You need to load it to enable drag. More info here : http://www.greensock.com/draggable/")),t(),i(),a.onInit&&a.onInit(h.eq(w+m),C+1,f),f.addClass("extra-slider-processed").trigger("extra:slider:init",[h.eq(w+m),C+1,f]),s(w)}),this}}(jQuery);